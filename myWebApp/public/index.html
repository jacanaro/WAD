<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="shortcut icon" type="image/x-icon" href="images/icon_map.ico">
    <title>AdViz</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6r6VNSQh_pXayQ1yY3-NOp_0rKzaukZ4&callback=initMap&libraries=&v=weekly"
            defer ></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!--<script language=javascript src='http://maps.google.com/maps/api/js?sensor=false'></script>-->
    <!--<script>
        let map;

        function initMap() {
            const mapOptions = {
                zoom: 9,
                center: {lat: 52.520008, lng: 13.404954},
            };
            map = new google.maps.Map(document.getElementById("map"), mapOptions);
            const marker = new google.maps.Marker({
                position: {lat: 52.462600, lng: 13.523220},
                map: map,
            });
            /* outdated listener code
            const infowindow = new google.maps.InfoWindow({
                content: "<p>Marker Location:" + marker.getPosition() + "</p>",
            });
            google.maps.event.addListener(marker, "click", () => {
                infowindow.open(map, marker);
            });*/
        }
    </script>-->

</head>


<body>

<!-- Start Log In -->


<div class="container" id="logIn">

    <h1>Log in</h1>

    <div>

        <form action=”/survey" method="POST" id="loginForm">
            <div>

                <input type="text" id="user" name="username"
                       placeholder="Username" required/><br> <br>
            </div>

            <div>
                <input type="password" id="password" name="password"
                       placeholder="Password" required/><br> <br>
            </div>

            <br>

            <button type="submit" id="submit" value="submit">Login</button>
            <br> <br>
        </form>

        <p id="loginFail"></p>

    </div>
</div>


<!-- End Log In -->


<!-- Logged in -->
<div id="loggedIn">

    <!-- HEADER -->
    <div class="header">
        <h1>AdViz</h1>
        <p id="loginData"></p>
        <button onclick="handleLogout()">Logout</button>
        <br> <br>
    </div>
    <div id="test"></div>
    <!-- Start Main Frame -->


    <div class="grid-container">

        <div class="grid-item-links">
            <h1>Contacts</h1>


            <div id="displayedContacts">

            </div>

        </div>
        <div class="grid-item">

            <div id="map"
                 frameborder="0" style="border: 0;"
                 allowfullscreen="" aria-hidden="false" tabindex="0"></div>

        </div>

        <div class="grid-item-links">
            <button type="button" onclick="showAllContacts()">Show all
                contacts
            </button>
            <br> <br>
            <button type="button" onclick="showMyContacts()">Show my
                contacts
            </button>
            <br> <br>
            <button onclick="displayAddNewContact(true)">Add new contact</button>


            <div id="addNewContact">
                <br><br>

                <div>
                    <form action="/survey" method="POST" id="addNewContactForm">
                        <div>
                            <input type="text" id="addNewTitle" name="addNewTitle" placeholder="Titel"><br>
                            <br>
                        </div>

                        <div>
                            <label for="addNewGeschlecht">Geschlecht:</label> <select
                                name="geschlecht" id="addNewGeschlecht">
                            <option value="keineAngabe">keine Angabe</option>
                            <option value="weiblich">weiblich</option>
                            <option value="maennlich">männlich</option>
                            <option value="divers">divers</option>

                        </select> <br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewVorname" name="vorname"
                                   placeholder="Vorname*" required/><br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewNachname" name="nachname"
                                   placeholder="Nachname*" required/><br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewStrasseUndHausnummer" name="strassehnr"
                                   placeholder="Straße und Hausnummer*" required/>
                            <br>
                            <br>
                        </div>

                        <div>
                            <input type="number" id="addNewPlz" name="plz"
                                   placeholder="Postleitzahl*" required/>
                            <br>
                            <br>
                        </div>

                        <div>
                            <input type="text" id="addNewStadt" name="stadt" placeholder="Stadt*"
                                   required><br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewLand" name="land" placeholder="Land*"
                                   required><br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewMailAdr" name="email"
                                   placeholder="Mail-Adresse"><br> <br>
                        </div>

                        <div>
                            <input type="text" id="addNewSonstiges" name="sonstiges"
                                   placeholder="Sonstiges"><br> <br>
                        </div>

                        <div>
                            <label for="addNewPrivatCheck">Privater Kontakt:</label> <input
                                type="checkbox" id="addNewPrivatCheck" checked>
                        </div>

                        <p>*Required Fields</p>

                        <button type="submit" id="submit2" value="submit">Save</button>

                        <br><br>

                        <!--<button id="saveToNormaloID" name="saveToNormalo" type="submit"
                                onsubmit="addNewContact()">Save to Normalo
                        </button>
                        <br>-->
                        <button name="close" type="button" onclick="displayAddNewContact(false), this.form.reset();">Close</button>

                    </form>
                </div>
            </div>
        </div>
    </div>


    <!-- End Main Frame-->

</div>

<!-- End Logged in -->

<!-- -->
<script>
    document.getElementById("loggedIn").style.display = 'none';
</script>
<script>function displayAddNewContact(bool) {
    if (bool == true) {
        document.getElementById("addNewContact").style.display = 'block';
    }
    else{
        document.getElementById("addNewContact").style.display = 'none';
    }
}
</script>
<script src="javascripts/showAllContacts.js">
</script>
<script src="javascripts/showMyContacts.js">
</script>
<script src="javascripts/addNewContact.js">
</script>
<script src="javascripts/requestAndCreateContactsAndMarker.js">
</script>
<script src="javascripts/createContactFormAndMapMarker.js">
</script>
<script src="javascripts/login.js">
</script>
<script src="javascripts/logOut.js">
</script>
<script src="javascripts/initMap.js"></script>
<script src="javascripts/createMapMarker.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
<script src="javascripts/deleteContactsFromClient.js"></script>
<script src="javascripts/getCurrentUser.js"></script>
</body>
</html>