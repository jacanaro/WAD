<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login-Demo</title>
</head>
<body>
<div id="test">
    <form action="http://localhost:3000/loginData" method="POST">
        <!--action ist “/Webapp-Name/url-pattern” -->
        <label for="username"><b>Username</b></label> 
        <input type="text" placeholder="Enter UserId" name="username" required> 
        <br>
            <label for="password"><b>Password</b></label> 
            <input type="password" placeholder="Enter Password" name="password" required>
        <!-- <button type="submit">Login</button> -->
        <button type="button" onclick="sendReq()">test</button>
    </form>
</div>

<script>
    function sendReq() {
        var httpRequest = new XMLHttpRequest();

        var url = `http://localhost:3000/loginData`;

        httpRequest.open("GET", url, true);

        httpRequest.onerror = function () {// diese Funktion wird ausgefuehrt, wenn ein Fehler auftritt
            console.log("Connecting to server with " + url + " failed!\n");
        };

        httpRequest.onload = function (e) {// diese Funktion wird ausgefuehrt, wenn die Anfrage erfolgreich war
            var data = this.response;
            var obj = JSON.parse(data);

            if (this.status == 200) {
                document.getElementById("test").innerHTML += obj.username;
            } else {     //Handhabung von nicht-200er
                console.log("HTTP-status code was: " + obj.status);
            }
        };

        httpRequest.send();
    }
</script>
</body>
